<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BITE - –•–æ–ª–æ–¥–Ω—ã–µ –ù–∞–ø–∏—Ç–∫–∏</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f8f8;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–∏—Å–∫–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ */
        .search-box {
            display: flex;
            align-items: center;
            background-color: #8b0000;
            border-radius: 20px;
            padding: 10px 15px;
            width: 70%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .search-box input {
            border: none;
            outline: none;
            width: 100%;
            padding: 5px;
            font-size: 16px;
            background-color: transparent;
            color: white;
        }

        .search-box input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-icon {
            color: white;
            margin-right: 10px;
            font-size: 18px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞ */
        .filter-button {
            background-color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            font-weight: bold;
            font-size: 16px;
        }

        .filter-icon {
            margin-right: 8px;
            font-size: 16px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–∞–Ω–µ–ª–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ */
        .filter-panel {
            display: none;
            background-color: #8b0000;
            border-radius: 10px;
            padding: 20px;
            margin-top: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            width: 280px;
            position: absolute;
            right: 0;
            top: 60px;
            z-index: 1000;
        }

        .filter-section {
            margin-bottom: 20px;
        }

        .filter-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #f4f2e5;
        }

        .cuisine-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .cuisine-item {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
            font-size: 15px;
            color: #f4f2e5;
            cursor: pointer;
        }

        .cuisine-item:hover {
            color: #fff;
            font-weight: bold;
        }

        .cuisine-item.active {
            color: #fff;
            font-weight: bold;
        }

        .cuisine-item:last-child {
            border-bottom: none;
        }

        .price-filter {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
        }

        .price-input {
            width: 80px;
            padding: 8px 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }

        .price-separator {
            color: #777;
        }

        /* –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞ */
        .search-filter-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –±–ª—é–¥ */
        .dishes-container {
            margin-top: 30px;
        }

        .dishes-title {
            font-size: 28px;
            margin-bottom: 20px;
            color: #333;
        }

        .dish-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .dish-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .dish-card:hover {
            transform: translateY(-5px);
        }

        .dish-image {
            height: 200px;
            background-size: cover;
            background-position: center;
        }

        .dish-info {
            padding: 20px;
        }

        .dish-info h2 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #333;
        }

        .dish-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
            color: #666;
        }

        .dish-description {
            font-size: 14px;
            color: #555;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .dish-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dish-price {
            font-weight: bold;
            font-size: 18px;
            color: #8b0000;
        }

        .add-to-cart {
            background-color: #8b0000;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .add-to-cart:hover {
            background-color: #6d0000;
        }

        .no-results {
            grid-column: 1 / -1;
            text-align: center;
            padding: 40px;
            font-size: 18px;
            color: #666;
        }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <div class="logo">–íI–¢–ï</div>

            <nav class="nav-center">
                <ul>
                    <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <!-- <li><a href="#delivery">–î–æ—Å—Ç–∞–≤–∫–∞</a></li> -->
                    <li><a href="#about">–û —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ</a></li>
                </ul>
            </nav>

            <div class="social-icons">
                <a href="#" aria-label="–í–ö–æ–Ω—Ç–∞–∫—Ç–µ">
                    <img src="https://pngicon.ru/file/uploads/vk.png" alt="VK" width="28" height="28" />
                </a>
                <a href="#" aria-label="–¢–µ–ª–µ–≥—Ä–∞–º">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="#F4F2E5">
                        <path
                            d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.14-.26.26-.534.26l.2-3.004 5.59-5.043c.24-.213-.054-.334-.373-.12l-6.91 4.34-2.97-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.53-.21 1.002.13.832.942z" />
                    </svg>
                </a>
                <a href="#" aria-label="–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç" id="auth-icon">
                    <svg width="29" height="29" viewBox="0 0 24 24" fill="#F4F2E5">
                        <path
                            d="M12 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" />
                    </svg>
                </a>
                <a href="#" aria-label="–ö–æ—Ä–∑–∏–Ω–∞" class="cart-icon">
                    <svg width="35" height="35" viewBox="0 0 24 24" fill="#F4F2E5">
                        <path
                            d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z" />
                    </svg>
                </a>
            </div>
        </div>
    </header>

    <div class="container">
        <div style="
                    display: flex;
                    flex-direction: column;
                    gap: 20px;
                    width: 100%;
                    height: 100%;
                ">
            <!-- –ü–µ—Ä–µ–º–µ—â–µ–Ω–Ω—ã–π –±–ª–æ–∫ –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–∞–≤–µ—Ä—Ö -->
            <div style="display:flex; justify-content: center; align-items: center; margin-top: 150px;">
                <div class="search-filter-container">
                    <div class="search-box">
                        <span class="search-icon">üîç</span>
                        <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫..." />
                    </div>

                    <button class="filter-button" onclick="toggleFilterPanel()">
                        <span class="filter-icon">‚öôÔ∏è</span>
                        –§–∏–ª—å—Ç—Ä
                    </button>
                </div>

                <!-- –ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ (—Ç–æ—á–Ω–æ –∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ) -->
                <div class="filter-panel" id="filterPanel">
                    <div class="filter-section">
                        <div class="filter-title">–¢–∏–ø –∫—É—Ö–Ω–∏</div>
                        <ul class="cuisine-list">
                            <li class="cuisine-item active" data-cuisine="all">
                                –í—Å–µ
                            </li>
                            <li class="cuisine-item" data-cuisine="–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è">
                                –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è
                            </li>
                            <li class="cuisine-item" data-cuisine="–°—Ä–µ–¥–∏–∑–µ–º–Ω–æ–º–æ—Ä—Å–∫–∞—è">
                                –°—Ä–µ–¥–∏–∑–µ–º–Ω–æ–º–æ—Ä—Å–∫–∞—è
                            </li>
                            <li class="cuisine-item" data-cuisine="–ê–∑–∏–∞—Ç—Å–∫–∞—è">
                                –ê–∑–∏–∞—Ç—Å–∫–∞—è
                            </li>
                        </ul>
                    </div>

                    <div class="filter-section">
                        <div class="filter-title">–§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ü–µ–Ω–µ</div>
                        <div class="price-filter">
                            <input type="number" id="minPrice" class="price-input" placeholder="300" min="0" />
                            <span class="price-separator">-</span>
                            <input type="number" id="maxPrice" class="price-input" placeholder="800" min="0" />
                        </div>
                    </div>
                </div>
            </div>
            <main class="dishes-container" style="margin-top: 0px; padding: 0px 40px 60px;">
                <h1 class="dishes-title">–•–æ–ª–æ–¥–Ω—ã–µ –ù–∞–ø–∏—Ç–∫–∏</h1>
                <div class="dish-cards-container" id="dishCardsContainer">
                    <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞—Ä—Ç–æ—á–∫–∏ –±–ª—é–¥ -->
                </div>
            </main>
        </div>
    </div>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div id="auth-modal" class="modal">
        <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
    </div>

    <div id="cart-modal" class="modal">
        <div class="modal-content account-content" style="overflow-y: auto">
            <span class="close">&times;</span>

            <!-- –ë–ª–æ–∫ 1: –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–æ—Ä–∑–∏–Ω—ã -->
            <div class="cart-header-block">
                <div class="cart-title-wrapper">
                    <svg class="trash-icon" width="24" height="24" viewBox="0 0 24 24" fill="#F4F2E5">
                        <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" />
                    </svg>
                    <h2>–í–∞—à –∑–∞–∫–∞–∑</h2>
                </div>
                <div id="cart-items" class="cart-items-block scrollable">
                    <!-- –ü—Ä–∏–º–µ—Ä —Ç–æ–≤–∞—Ä–∞ -->
                    <div class="cart-item">
                        <div class="item-actions">
                            <button class="quantity-btn">-</button>
                            <span class="item-quantity">1</span>
                            <button class="quantity-btn">+</button>
                            <button class="remove-btn">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="#5B120D">
                                    <path
                                        d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <p class="empty-cart">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
                </div>
            </div>

            <!-- –ë–ª–æ–∫ 2: –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ -->
            <div class="delivery-address-block">
                <h3>–í—ã–±–µ—Ä–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</h3>
                <div class="address-table">
                    <table>
                        <tr>
                            <td>—É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1, –∫–≤. 2</td>
                            <td class="address-checkbox">
                                <input type="radio" name="address" id="address1" checked />
                                <label for="address1"></label>
                            </td>
                        </tr>
                        <tr>
                            <td>—É–ª. –î—Ä—É–≥–∞—è, –¥. 3, –∫–≤. 4</td>
                            <td class="address-checkbox">
                                <input type="radio" name="address" id="address2" />
                                <label for="address2"></label>
                            </td>
                        </tr>
                        <tr>
                            <td>–ø—Ä. –¢—Ä–µ—Ç–∏–π, –¥. 5, –∫–≤. 6</td>
                            <td class="address-checkbox">
                                <input type="radio" name="address" id="address3" />
                                <label for="address3"></label>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- –ë–ª–æ–∫ 3: –í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏ -->
            <div class="delivery-time-block">
                <h3>–í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏</h3>
                <div class="time-options">
                    <button class="time-option-btn active" id="asap-btn">
                        –ö–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ
                    </button>
                    <button class="time-option-btn" id="schedule-btn">
                        –ö–æ –≤—Ä–µ–º–µ–Ω–∏
                    </button>
                </div>

                <div class="time-selection" id="time-selection" style="display: none">
                    <div class="time-input">
                        <input type="text" id="delivery-date" class="date-picker" placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É"
                            readonly />
                    </div>
                    <div class="time-input">
                        <input type="text" id="delivery-time" class="time-picker" placeholder="–£–∫–∞–∂–∏—Ç–µ –≤—Ä–µ–º—è"
                            readonly />
                    </div>
                </div>

                <div class="cart-total">
                    <p>–ò—Ç–æ–≥–æ: <span id="cart-total-price">850</span> ‚ÇΩ</p>
                    <button class="submit-btn order-btn" id="checkout-btn">
                        –ó–∞–∫–∞–∑–∞—Ç—å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã (—Å–∫—Ä—ã—Ç—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
    <div id="datepicker-container" class="datepicker-container"></div>

    <!-- –í—Ä–µ–º–µ–Ω–Ω–æ–π –±–∞—Ä–∞–±–∞–Ω (—Å–∫—Ä—ã—Ç—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
    <div id="timepicker-container" class="timepicker-container">
        <div class="timepicker">
            <div class="hours-wheel"></div>
            <div class="minutes-wheel"></div>
            <div class="center-dot"></div>
        </div>
        <button class="timepicker-confirm">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", async () => {
            let dishes = []; // –ë—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –±–ª—é–¥–∞ –∑–¥–µ—Å—å

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞
            const fetchDishes = async () => {
                try {
                    const res = await fetch(
                        "http://localhost:8080/api/menu?limit=20&category=–•–æ–ª–æ–¥–Ω—ã–µ–ù–∞–ø–∏—Ç–∫–∏"
                    );

                    if (!res.ok) {
                        throw new Error(
                            `HTTP error! status: ${res.status}`
                        );
                    }

                    const data = await res.json();
                    console.log(data);
                    dishes = data.data;
                    console.log(dishes); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Å–µ –±–ª—é–¥–∞
                    renderDishes(dishes); // –†–µ–Ω–¥–µ—Ä–∏–º –≤—Å–µ –±–ª—é–¥–∞ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ
                } catch (error) {
                    console.error("Error fetching data:", error);
                    // –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –ø–æ–∫–∞–∂–µ–º –∑–∞–≥–ª—É—à–∫—É
                    document.getElementById(
                        "dishCardsContainer"
                    ).innerHTML = `
                        <div class="no-results">
                            –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–µ–Ω—é. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.
                        </div>
                    `;
                }
            };

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–ª—é–¥
            function renderDishes(dishesToRender) {
                const container =
                    document.getElementById("dishCardsContainer");

                if (dishesToRender.length === 0) {
                    container.innerHTML = `
                        <div class="no-results">
                            –ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞.
                        </div>
                    `;
                    return;
                }

                let listCardHTML = ""; // –ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è

                dishesToRender.forEach((item) => {
                    listCardHTML += `
                    <div class="dish-card">
                        <div class="dish-image"
                            style="background-image: url('https://images.unsplash.com/photo-1565557623262-b51c2513a641?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80')">
                        </div>
                        <div class="dish-info">
                            <h2>${item.dish_name}</h2>
                            <div class="dish-meta">
                                <span class="dish-weight">${item.weight}–≥—Ä</span>
                                <span class="dish-cuisine">${item.type_name} –∫—É—Ö–Ω—è</span>
                            </div>
                            <p class="dish-description">
                                ${item.description}
                            </p>
                            <div class="dish-footer">
                                <span class="dish-price">${item.price} ‚ÇΩ</span>
                                <button class="add-to-cart" data-id="${item.id}">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                            </div>
                        </div>
                    </div>`;
                });

                container.innerHTML = listCardHTML;

                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫ "–í –∫–æ—Ä–∑–∏–Ω—É"
                document
                    .querySelectorAll(".add-to-cart")
                    .forEach((button) => {
                        button.addEventListener("click", function () {
                            const dishId = this.getAttribute("data-id");
                            const dish = dishes.find(
                                (d) => d.id == dishId
                            );
                            addToCart(dish);
                        });
                    });
            }

            // –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –±–ª—é–¥
            function filterDishes() {
                const searchTerm = document
                    .getElementById("searchInput")
                    .value.toLowerCase();
                const selectedCuisine = document.querySelector(
                    ".cuisine-item.active"
                )?.dataset.cuisine;
                const minPrice =
                    parseInt(document.getElementById("minPrice").value) ||
                    0;
                const maxPrice =
                    parseInt(document.getElementById("maxPrice").value) ||
                    Infinity;

                const filtered = dishes.filter((dish) => {
                    // –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é
                    const matchesSearch =
                        dish.dish_name.toLowerCase().includes(searchTerm) ||
                        (dish.description &&
                            dish.description
                                .toLowerCase()
                                .includes(searchTerm));

                    // –§–∏–ª—å—Ç—Ä –ø–æ –∫—É—Ö–Ω–µ
                    const matchesCuisine =
                        selectedCuisine === "all" ||
                        dish.type_name === selectedCuisine;

                    // –§–∏–ª—å—Ç—Ä –ø–æ —Ü–µ–Ω–µ
                    const matchesPrice =
                        dish.price >= minPrice && dish.price <= maxPrice;

                    return matchesSearch && matchesCuisine && matchesPrice;
                });

                renderDishes(filtered);
            }

            // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É
            function addToCart(dish) {
                console.log("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É:", dish);
                const cartDish = JSON.parse(sessionStorage.getItem('dish'))
                if (cartDish) {
                    const index = cartDish.findIndex((element) => {
                        return element.element.dish_name === dish.dish_name
                    })
                    if (index !== -1) {
                        cartDish[index]={ count: cartDish[index].count + 1, element: dish }
                        sessionStorage.setItem('dish', JSON.stringify(cartDish));
                    }
                    else {
                        cartDish.push({ count: 1, element: dish })
                        sessionStorage.setItem('dish', JSON.stringify(cartDish));
                    }
                }
                else {
                    sessionStorage.setItem('dish', JSON.stringify([{ count: 1, element: dish }]))

                }
                // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ—Ä–∑–∏–Ω–æ–π
                alert(`–ë–ª—é–¥–æ ${dish.dish_name} –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É!`);
            }



            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
            function initFilters() {
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –∫—É—Ö–Ω–µ
                const cuisineItems =
                    document.querySelectorAll(".cuisine-item");
                cuisineItems.forEach((item) => {
                    item.addEventListener("click", function () {
                        cuisineItems.forEach((i) =>
                            i.classList.remove("active")
                        );
                        this.classList.add("active");
                        filterDishes();
                    });
                });

                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø–æ–ª–µ–π —Ü–µ–Ω—ã
                document
                    .getElementById("minPrice")
                    .addEventListener("input", filterDishes);
                document
                    .getElementById("maxPrice")
                    .addEventListener("input", filterDishes);

                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø–æ–∏—Å–∫–∞
                document
                    .getElementById("searchInput")
                    .addEventListener("input", filterDishes);

                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø–∞–Ω–µ–ª–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ—ë
                document.addEventListener("click", function (event) {
                    const panel = document.getElementById("filterPanel");
                    const filterBtn =
                        document.querySelector(".filter-button");

                    if (
                        !panel.contains(event.target) &&
                        event.target !== filterBtn &&
                        !filterBtn.contains(event.target)
                    ) {
                        panel.style.display = "none";
                    }
                });
            }

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–∞–Ω–µ–ª–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
            window.toggleFilterPanel = function () {
                const panel = document.getElementById("filterPanel");
                panel.style.display =
                    panel.style.display === "block" ? "none" : "block";
            };

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            await fetchDishes();
            initFilters();
        });
    </script>
</body>

</html>