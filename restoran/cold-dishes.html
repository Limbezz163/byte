<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BITE - Холодные блюда</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header>
        <div class="container">
            <div class="logo">ВIТЕ</div>

            <nav class="nav-center">
                <ul>
                    <li><a href="index.html">Главная</a></li>
                    <li><a href="#delivery">Доставка</a></li>
                    <li><a href="#about">О ресторане</a></li>
                </ul>
            </nav>

            <div class="social-icons">
                <a href="#" aria-label="ВКонтакте">
                    <img src="https://pngicon.ru/file/uploads/vk.png" alt="VK" width="28" height="28">
                </a>
                <a href="#" aria-label="Телеграм">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="#F4F2E5">
                        <path
                            d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.14-.26.26-.534.26l.2-3.004 5.59-5.043c.24-.213-.054-.334-.373-.12l-6.91 4.34-2.97-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.53-.21 1.002.13.832.942z" />
                    </svg>
                </a>
                <a href="#" aria-label="Личный кабинет" id="auth-icon">
                    <svg width="29" height="29" viewBox="0 0 24 24" fill="#F4F2E5">
                        <path
                            d="M12 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" />
                    </svg>
                </a>
            </div>
        </div>
    </header>

    <main class="dishes-container">
        <h1 class="dishes-title">Холодные блюда</h1>
        <div class="dish-cards-container">
        </div>
    </main>

    <footer>
        <div class="container">
            <nav>
                <ul>
                    <li><a href="index.html">Главная</a></li>
                    <li><a href="#delivery">Доставка</a></li>
                    <li><a href="#about">О ресторане</a></li>
                    <li><a href="#contacts">Справочная информация</a></li>
                </ul>
            </nav>
        </div>
    </footer>

    <!-- Модальное окно авторизации -->
    <div id="auth-modal" class="modal">
        <!-- Содержимое модального окна без изменений -->
    </div>

    <script src="script.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", async () => {
            const fetchFunction = async () => {
                try {
                    const res = await fetch("http://localhost:8080/menu?limit=3");

                    if (!res.ok) {
                        throw new Error(`HTTP error! status: ${res.status}`);
                    }

                    const data = await res.json();
                    console.log(data);
                    const array = data.data;

                    const list = document.querySelector(".dish-cards-container");
                    if (list) {
                        let listCardHTML = ''; // Накопительная переменная

                        array.forEach(item => {
                            listCardHTML += `<div class="dish-card">
                            <div class="dish-image"
                                style="background-image: url('https://images.unsplash.com/photo-1565557623262-b51c2513a641?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80')">
                            </div>
                            <div class="dish-info">
                                <h2>${item.dish_name}</h2>
                                <div class="dish-meta">
                                    <span class="dish-weight">${item.weight}гр</span>
                                    <span class="dish-cuisine">${item.type_name} кухня</span>
                                </div>
                                <p class="dish-description">
                                    ${item.description}
                                </p>
                                <div class="dish-footer">
                                    <span class="dish-price">${item.price} ₽</span>
                                    <button class="add-to-cart">В корзину</button>
                                </div>
                            </div>
                        </div>`;
                        });

                        list.innerHTML = listCardHTML; // Один раз устанавливаем HTML
                    }
                } catch (error) {
                    console.error("Error fetching data:", error);
                }
            };

            await fetchFunction();
        });
    </script>


</body>



</html>